# NoSQL Data Modeling with Apache Cassandra
> by Ali Fathalian, 8 July 2021

![](Pics/cassandra.png)

## Project
In this project data coming from audio streaming company called Sparkify has been modeled with Apache Cassandra. They have raw CSV metadata but no easy way to query the data.
The goal of this project is to design and create a NoSQL database and ETL pipeline optimized.

## Dataset
The dataset is user songplay log files in CSV format generated by this [event simulator]. These simulate activity logs from a music streaming app based on specified configurations.
Here are examples of filepaths to two files in the dataset:
`event_data/2018-11-01-events.csv`

## Dataset after denormalization that will be used for Apache Casssandra tables
The image below shows the denormalized dataset:
![](Pics/image_event_datafile.jpg)

### Questions
From this data, 3 tables were created specifically to answer the following questions (queries):  

1. Give me the artist, song title and song's length in the music app history that was heard during  sessionId = 338, and itemInSession  = 4  
2. Give me only the following: name of artist, song (sorted by itemInSession) and user (first and last name) for userid = 10, sessionid = 182  
3. Give me every user name (first and last) in my music app history who listened to the song 'All Hands Against His Own'

### Instructions
- Transfer the CSV files from **event_data** to create a streamlined CSV file **event_datafile_new.csv** to model and insert data into Apache Cassandra tables.
- Create database connection to Cassandra 
- Create keyspace in Cassandra 
- Creates the 3 tables designed to run the queries
- Inserts the data into the tables
- Runs the queries 
